{"version":3,"sources":["src/app.js","src/browser-frame.js","src/browser-nav.js","src/browser.js","src/desktop-menu-tags.js","src/desktop-menu.js","src/environment.js","src/main.js","src/menu-clock.js","src/menu-im.js","src/menu-netmon.js","src/menu-vol-ctrl.js","src/menu-wnd-title.js","src/wm-root.js","src/wnd.js","src/resources/index.js","app.styl","browser-frame.styl","browser-nav.styl","browser.styl","desktop-menu-tags.styl","desktop-menu.styl","menu-clock.styl","menu-im.styl","menu-netmon.styl","menu-vol-ctrl.styl","/home/n2liquid/prog/n2liquid/div/src/menu-wnd-title.css","wm-root.styl","wnd.styl"],"names":["App","keyboardEventNames","k","bind","attached","document","addEventListener","onKeyboardEvent","window","app","dettached","removeEventListener","ev","key","metaKey","type","activeWnd","wmRoot","active","kill","maximized","BrowserFrame","urlChanged","iframe","src","url","el","querySelector","BrowserNav","_url","$input","$","find","on","focus","select","blur","requestAnimationFrame","navigate","val","Browser","activate","data","Object","assign","digitsRe","DesktopMenuTags","activeChanged","activeTag","hide","name","$showing","length","show","lastActiveWnd","lastActive","tags","sym","desktopMenuTags","test","switchTagCmd","Number","i","tag","DesktopMenu","desktopMenu","debug","testing","configure","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","MenuClock","update","interval","setInterval","date","format","time","MenuIm","whom","when","MenuNetmon","rxChanged","_rx","Math","round","rx","txChanged","_tx","tx","MenuVolCtrl","volumeChanged","_volume","volume","MenuWndTitle","WmRoot","wnds","vm","Wnd","params","wnd","maximizedChanged","method","$el","resizable","draggable","makeActive","handles","onFrame","splice","indexOf","dead","checkFocus","activeElement","contains","draggingSel","resizingSel","dragging","is","resizing","style","getComputedStyle","values","x","left","y","top","width","height","keys","css","_$el","config"],"mappings":"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CD5B,AGHA,ELMgB,OAAhB,GILA,IHGA;AMLF,AVWA,ECFE,ACDA,ACAA,ACFA,ACDA,ACDA,AGHA,ONOO,CFCC,ACDA,EDCR,EEDA,ACFiC,CCDpB,ACDqB,AGHE,GPOpC,IGHA,eDCA,CEFA,EGHA;AFGF,ACDA,AGHA,EXYE,ACFA,AEDA,AEHA,ACDA,AGHA,QRQQ,AEDA,IGJyB,AGHE,CNOnC,IEHiB,ELME,OCFnB,CDEA,IKNA,ICDA,EGHA;APQA,AEFF,AQRA,EZaE,ACFA,AIJA,AEFA,ACDA,ACAA,AEHA,OFGwB,GEHd,EVUE,CIJC,AEFqB,ACDA,CPOlC,EUVA,ENMA,GLMqB,KSTrB,GTSA,OORA,ACDA;AFGF,ENQE,ACHA,ACDE,AEFF,ACDA,AEFA,ACDA,AGHA,ACDA,MDCM,EAAN,CTSW,AUVF,CRQC,EGHuB,ACDA,ERUnB,AEJZ,AUVF,IXWkB,AIJqB,CDCvC,GJMA,CCHA,YMNA,ACDA,MHGA;ELQA,AINA,ACDA,ACDA,AEDA,AGJA,ACDA,KDCK,ENMkB,AGFA,EJGd,COPT,GXaa,AMRgB,CFE7B,EQRgB,KZchB,EYdA,EPOA,AGFA,MFCA;ALMF,ACDA,AKLA,EPSE,AINA,ACDA,ACDA,AKLA,ACDA,ODCO,KLK0B,CFEpB,ACDA,AMNb,EXae,GKPf,GDCA,EJMA,CYdwB,IAAxB,ONMA;AEAF,ERSE,ACHA,ACDA,AEFA,ACDA,AEFA,AIJA,ACDA,QVUQ,AEFA,ACDA,AMNiB,EVUf,AGHV,EJMY,COTkB,GLK9B,AGHA,CLOA,ECHA,MWXyB,EDCzB,ECDA,GLKA;EPUA,ACHA,AGHA,ACDA,AEFA,ACAA,AILA,OXWO,EGHE,EAAT,CHGA,AIJY,AEFqB,AKLrB,CJKwB,CRStB,QAAd,aOTA,EKLA,CJKA,CHEA;ELQA,ACHA,AGHA,AIHA,AILA,QXWQ,IONyB,AILrB,CXWZ,CGHc,CJMC,GINf,KJMA,OYdA,KJKA;AHGF,ELQE,ACJA,AGHA,AIFA,OAAqB,CPKb,CDIC,CCJT,IDIA,CIPe,IAAf,IIFA;AILA,EZeA,AIPA,ACDA,YAAY,CDCC,GJOG,CKRhB,IDCA,EJOA;ACDA,EDEA,AIPA,AQRE,OZeK,AIPe,EQRX,IZeX,AYfE,WRQF;ACAF,ELQE,AIPA,QJOQ,MAAR,IIPkB,YAAlB;ACAF,AOPA,EZeE,ACHE,UDGQ,MCHQ,CDGlB,ICHE;AGHF,EJOA,AKRA,AOPA,QZeQ,CKRC,AOPA,CZeT,GYfA,CPOA;ELSA,AIPE,SAAS,IJO2B,CIPpC,oCJOF;AKNA,AORF,EZeE,WAAW,KAAX;AINA,EJOA,AKPE,AORF,UAAU,GPQK,IAAb,CLOgB,CYflB,IZeA;EACA,AIPE,AQRF,MAAM,GRQK,GAAT,MJOmC,CYfrC,oBZeA;EACA,AIPE,AQRF,OAAO,GRQK,OJOK,EIPf,CQRF,GZeA;EINE,AQRF,KAAK,ORQS,MQRd,KRQE;AJQJ,EIPI,AQRF,MRQQ,EQRA,ERQN,WQRF;EZgBA,AIPE,AQRF,KRQO,EQRA,ERQL,CJOQ,SAAV,IYfA;EZgBA,AIPE,AQRF,ORQS,CQRD,GRQN,EJOW,MAAb,KYfA;EZgBA,AIPE,QAAQ,IAAR,EJOY,OAAd;AYbA,EZcA,AIPE,QAAQ,OJOK,OAAf,IIPE;EJQF,AYdE,QAAQ,QAAR,EZc8B,gBAAhC;AINF;AJQE,AYdE,EROF,OAAO,QAAP;EJQE,AYdE,SZcO,GAAT,IYdkB,KAAhB;ARQJ,EJOE,UAAU,SAAV;AYbJ,EZcI,AIPA,OJOO,CIPC,IJOR,kBIPA;EJQA,AIPA,AQPF,KZcO,EAAL,EYdO,KAAT,IROoB,QAAlB;EJQA,AYdF,OZcS,EAAP,IYdW,OAAb;EZeE,AYdF,QZcU,EAAR,OYde,OAAjB;EZeE,AYdF,OAAO,CZcG,IYdV,cZcE;EACA,AYdF,QAAQ,KAAR,CZcgB,OAAd;EACA,AYdF,kBAAuC,EZcH,gBAAlC,KYdF;;AZgBA;EACE,SAAS,GAAT;EACA,UAAU,SAAV;EACA,OAAsB,iBAAtB;EACA,KAAK,EAAL;EACA,OAAO,EAAP;EACA,QAAQ,EAAR;EACA,QAAQ,kBAAR;EACA,cAAc,OAAd;EACA,oBAAmC,iBAAnC;;AAEJ;EACE,UAAU,SAAV;EACA,cAAc,MAAd;EACA,eAAe,OAAf;EACA,cAAc,OAAd;EACA,kBAAgC,gBAAhC;;AAEA;EACE,SAAS,GAAT;EACA,UAAU,SAAV;EACA,MAAM,KAAN;EACA,KAAK,EAAL;EACA,OAAO,EAAP;EACA,QAAQ,EAAR;EACA,QAAQ,kBAAR;EACA,cAAc,OAAd;EACA,mBAAiC,gBAAjC;;AAEF;EACE,SAAS,GAAT;EACA,UAAU,SAAV;EACA,MAAqB,iBAArB;EACA,KAAK,EAAL;EACA,OAAO,EAAP;EACA,QAAQ,EAAR;EACA,QAAQ,kBAAR;EACA,cAAc,OAAd;EACA,mBAAkC,iBAAlC;;AAEJ;EACE,cAAc,IAAd;EACA,aAAa,KAAb;;AAEF;EACE,eAAe,IAAf;EACA,cAAc,KAAd;;AAEF;EACE,UAAU,SAAV;;AAEF;EACE,UAAU,SAAV;EACA,WAAW,MAAX;EACA,SAAS,MAAT;;AAEF;AACA;EACE,SAAS,KAAT;;AAEF;EACE,QAAQ,SAAR;EACA,QAAQ,IAAR;EACA,OAAO,KAAP;EACA,KAAK,KAAL;EACA,MAAM,EAAN;;AAEF;EACE,QAAQ,SAAR;EACA,QAAQ,IAAR;EACA,OAAO,KAAP;EACA,QAAQ,KAAR;EACA,MAAM,EAAN;;AAEF;EACE,QAAQ,SAAR;EACA,OAAO,IAAP;EACA,OAAO,KAAP;EACA,KAAK,EAAL;EACA,QAAQ,KAAR;;AAEF;EACE,QAAQ,SAAR;EACA,OAAO,IAAP;EACA,MAAM,KAAN;EACA,KAAK,EAAL;EACA,QAAQ,KAAR;;AAEF;EACE,QAAQ,UAAR;EACA,OAAO,KAAP;EACA,QAAQ,KAAR;EACA,OAAO,IAAP;EACA,QAAQ,IAAR;;AAEF;EACE,QAAQ,UAAR;EACA,OAAO,IAAP;EACA,QAAQ,IAAR;EACA,MAAM,KAAN;EACA,QAAQ,KAAR;;AAEF;EACE,QAAQ,UAAR;EACA,OAAO,IAAP;EACA,QAAQ,IAAR;EACA,MAAM,KAAN;EACA,KAAK,KAAL;;AAEF;EACE,QAAQ,UAAR;EACA,OAAO,IAAP;EACA,QAAQ,IAAR;EACA,OAAO,KAAP;EACA,KAAK,KAAL","file":"app-bundle.js","sourcesContent":["export class App {\n  keyboardEventNames = [\n    'keydown',\n    'keypress',\n    'keyup',\n  ];\n\n  constructor() {\n    for (let k of ['onKeyboardEvent']) {\n      this[k] = this[k].bind(this);\n    }\n  }\n\n  attached() {\n    for (let k of this.keyboardEventNames) {\n      document.addEventListener(k, this.onKeyboardEvent);\n    }\n\n    window.app = this;\n  }\n\n  dettached() {\n    for (let k of this.keyboardEventNames) {\n      document.removeEventListener(\n        k, this.onKeyboardEvent\n      );\n    }\n\n    delete window.app;\n  }\n\n  onKeyboardEvent(ev) {\n    switch (ev.key) {\n      case 'Meta':\n        this.metaKey = ev.type === 'keydown';\n        break;\n\n      // FIXME: Move to wmRoot.\n      case 'q': {\n        if (ev.type !== 'keydown' || !ev.metaKey) {\n          break;\n        }\n\n        let activeWnd = wmRoot.active;\n        activeWnd && activeWnd.kill();\n\n        break;\n      }\n\n      // FIXME: Move to wmRoot.\n      case 'm': {\n        if (ev.type !== 'keydown' || !ev.metaKey) {\n          break;\n        }\n\n        let activeWnd = wmRoot.active;\n\n        if (!activeWnd) {\n          break;\n        }\n\n        activeWnd.maximized = !activeWnd.maximized;\n\n        break;\n      }\n    }\n  }\n}\n","import { bindable } from 'aurelia-framework';\n\nexport class BrowserFrame {\n  @bindable url;\n\n  urlChanged() {\n    if (!this.iframe) {\n      return;\n    }\n\n    this.iframe.src = this.url;\n  }\n\n  get iframe() {\n    return this.el && this.el.querySelector(\n      '.browser-frame__iframe'\n    );\n  }\n\n  attached() {\n    this.urlChanged();\n  }\n}\n","import { bindable } from 'aurelia-framework';\n\nexport class BrowserNav {\n  @bindable url;\n\n  urlChanged() {\n    this._url = this.url;\n  }\n\n  attached() {\n    this.urlChanged();\n\n    let $input =\n      $(this.el).find('.browser-nav__url-input');\n\n    $input.on('dblclick', () => {\n      this.active = true;\n      $input.focus().select();\n    });\n\n    $input.on('click focus', ev => {\n      if (!this.active) {\n        $input.blur();\n      }\n    });\n\n    $input.on('keydown', ev => {\n      switch (ev.key) {\n        case 'Escape':\n          requestAnimationFrame(() => {\n            this._url = this.url;\n          });\n\n          this.active = false;\n          $input.blur();\n          break;\n\n        case 'Enter':\n          this.navigate($input.val());\n          this.active = false;\n          $input.blur();\n          break;\n      }\n    });\n  }\n\n  navigate(url) {\n    this.url = this._url = url;\n  }\n}\n","import { bindable } from 'aurelia-framework';\n\nexport class Browser {\n  url = 'https://suckless.org';\n\n  activate(data) {\n    Object.assign(this, data);\n  }\n}\n","import $ from 'jquery';\nimport { observable } from 'aurelia-framework';\n\nlet digitsRe = /^[0-9]$/;\n\nexport class DesktopMenuTags {\n  tags = [];\n  @observable active = null;\n\n  activeChanged() {\n    let activeTag = this.active;\n\n    if (!activeTag) {\n      $('.wnd').hide();\n\n      if (window.wmRoot) {\n        wmRoot.active = null;\n      }\n\n      return;\n    }\n\n    $(`.wnd:not(.wnd--tag_${activeTag.name})`).hide();\n\n    let $showing = $(`.wnd--tag_${activeTag.name}`);\n\n    if (!$showing.length && window.wmRoot) {\n      wmRoot.active = null;\n    }\n\n    $showing.show();\n\n    let lastActiveWnd = activeTag.lastActive;\n\n    if (window.wmRoot) {\n      wmRoot.active = lastActiveWnd;\n    }\n  }\n\n  constructor() {\n    for (let k of ['onKeyboardEvent']) {\n      this[k] = this[k].bind(this);\n    }\n\n    this.tags = [\n      { name: 'web', sym: '\\ue1ba' },\n      { name: 'term', sym: '\\ue21a' },\n      { name: 'draw', sym: '\\ue858' },\n      { name: 'im', sym: '\\ue11f' },\n      { name: 'game', sym: '\\ue216' },\n    ];\n\n    this.active = this.tags[0];\n  }\n\n  attached() {\n    for (let ev of ['keydown', 'keypress', 'keyup']) {\n      document.addEventListener(\n        ev, this.onKeyboardEvent\n      );\n    }\n\n    window.desktopMenuTags = this;\n  }\n\n  dettached() {\n    delete window.desktopMenuTags;\n  }\n\n  onKeyboardEvent(ev) {\n    if (ev.type === 'keydown' && ev.metaKey) {\n      if (digitsRe.test(ev.key)) {\n        this.switchTagCmd(Number(ev.key));\n      }\n    }\n  }\n\n  switchTagCmd(i) {\n    if (i === 0) {\n      i = 10;\n    }\n\n    let tag = this.tags[i - 1];\n\n    if (!tag) {\n      return;\n    }\n\n    if (tag === this.active) {\n      this.active = null;\n      return;\n    }\n\n    this.active = tag;\n  }\n}\n","export class DesktopMenu {\n  attached() {\n    requestAnimationFrame(() => {\n      this.wmRoot = window.wmRoot;\n    });\n\n    window.desktopMenu = this;\n  }\n\n  dettached() {\n    delete window.desktopMenu;\n  }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import moment from 'moment';\n\nexport class MenuClock {\n  constructor() {\n    for (let k of ['update']) {\n      this[k] = this[k].bind(this);\n    }\n  }\n\n  attached() {\n    this.update();\n    this.interval = setInterval(this.update, 100);\n  }\n\n  update() {\n    this.date = moment().format('ddd DD MMM');\n    this.time = moment().format('hh:mm');\n  }\n}\n","export class MenuIm {\n  whom = 'arthur';\n  when = '06:52';\n}\n","export class MenuNetmon {\n  rx = 1024;\n  tx = 2048;\n\n  rxChanged() {\n    this._rx = Math.round(this.rx / 1024);\n  }\n\n  txChanged() {\n    this._tx = Math.round(this.tx / 1024);\n  }\n\n  constructor() {\n    this.rxChanged();\n    this.txChanged();\n  }\n}\n","import { observable } from 'aurelia-framework';\n\nexport class MenuVolCtrl {\n  @observable volume = 1;\n\n  volumeChanged() {\n    this._volume = Math.round(this.volume * 100);\n  }\n\n  constructor() {\n    this.volumeChanged();\n  }\n}\n","import { bindable } from 'aurelia-framework';\n\nexport class MenuWndTitle {\n  @bindable active;\n\n  attached() {\n    requestAnimationFrame(() => {\n      this.wmRoot = window.wmRoot;\n    });\n  }\n}\n","import { bindable } from 'aurelia-framework';\n\nexport class WmRoot {\n  @bindable active;\n\n  wnds = [\n    { tag: 'web', vm: 'browser' },\n  ];\n\n  activeChanged() {\n    let activeWnd = this.active;\n    let activeTag = desktopMenuTags.active;\n\n    if (!activeTag) {\n      return;\n    }\n\n    activeTag.lastActive = activeWnd;\n  }\n\n  attached() {\n    window.wmRoot = this;\n  }\n\n  dettached() {\n    delete window.wmRoot;\n  }\n}\n","import $ from 'jquery';\nimport 'jquery-ui';\nimport { bindable } from 'aurelia-framework';\n\nexport class Wnd {\n  @bindable tag;\n  @bindable name = 'Web Browser';\n  @bindable title = 'Web Browser';\n  @bindable maximized = true;\n  @bindable x = 70;\n  @bindable y = 60;\n  @bindable width = $('body').width() - 720;\n  @bindable height = $('body').height() - 360;\n  @bindable dragging;\n  @bindable resizing;\n  @bindable vm;\n\n  constructor() {\n    this.params = { wnd: this };\n\n    for (let k of ['onFrame']) {\n      this[k] = this[k].bind(this);\n    }\n  }\n\n  get $el() {\n    if (!this._$el) {\n      this._$el = $(this.el);\n    }\n\n    return this._$el;\n  }\n\n  maximizedChanged() {\n    let method = this.maximized ? 'disable' : 'enable';\n\n    this.$el\n      .resizable(method)\n      .draggable(method);\n  }\n\n  get active() {\n    return window.wmRoot && wmRoot.active === this;\n  }\n\n  makeActive() {\n    wmRoot.active = this;\n  }\n\n  attached() {\n    this.$el.data('model', this);\n\n    this.$el\n      .resizable({ handles: 'all' })\n      .draggable();\n\n    this.$el\n      .on('click', () => this.makeActive())\n      .on('dragstart', () => this.makeActive())\n      .on('resizestart', () => this.makeActive());\n\n    let activeTag = desktopMenuTags.active;\n\n    if (this.tag !== activeTag.name) {\n      this.$el.hide();\n    }\n\n    this.maximizedChanged();\n    this.onFrame();\n  }\n\n  kill() {\n    if (wmRoot.active === this) {\n      wmRoot.active = null;\n    }\n\n    wmRoot.wnds.splice(\n      wmRoot.wnds.indexOf(this), 1\n    );\n\n    this.dead = true;\n  }\n\n  checkFocus() {\n    return (\n      this.el === document.activeElement ||\n      $.contains(this.el, document.activeElement)\n    );\n  }\n\n  onFrame() {\n    if (this.dead) {\n      return;\n    }\n\n    requestAnimationFrame(this.onFrame);\n\n    if (this.checkFocus() && !this.active) {\n      this.makeActive();\n    }\n\n    let draggingSel = '.ui-draggable-dragging';\n    let resizingSel = '.ui-resizable-resizing';\n\n    this.dragging = this.$el.is(draggingSel);\n    this.resizing = this.$el.is(resizingSel);\n\n    if (!this.maximized) {\n      if (this.dragging || this.resizing) {\n        let style = getComputedStyle(this.el);\n\n        let values = {\n          x: Number(style.left),\n          y: Number(style.top),\n          width: Number(style.width),\n          height: Number(style.height),\n        };\n\n        for (let k of Object.keys(values)) {\n          if (this[k] === values[k]) {\n            return;\n          }\n\n          this[k] = values[k];\n        }\n      }\n      else {\n        this.$el\n          .css('left', `${this.x}px`)\n          .css('top', `${this.y}px`)\n          .css('width', `${this.width}px`)\n          .css('height', `${this.height}px`);\n      }\n    }\n  }\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null],"sourceRoot":".."}