{"version":3,"sources":["src/app.js","src/browser-frame.js","src/browser-nav.js","src/environment.js","src/m-app.js","src/m-clock.js","src/m-top.js","src/main.js","src/w-app.js","src/w-top-bar.js","src/wm-root.js","src/resources/index.js","app.styl","browser-frame.styl","browser-nav.styl","/home/n2liquid/prog/n2liquid/div/src/m-app.css","/home/n2liquid/prog/n2liquid/div/src/m-clock.css","m-top.styl","w-app.styl","w-top-bar.styl","wm-root.styl"],"names":["App","message","BrowserFrame","urlChanged","iframe","src","url","attached","el","querySelector","BrowserNav","debug","testing","MApp","name","leftPad","ch","len","str","toString","length","MClock","k","bind","update","interval","setInterval","now","Date","hh","getHours","mm","getMinutes","ss","getSeconds","label","MTop","window","mTop","dettached","configure","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","WApp","maximizedChanged","method","maximized","$el","resizable","draggable","title","replace","containment","handles","handle","onFrame","activeApp","isDettached","requestAnimationFrame","draggingSel","resizingSel","dragging","is","resizing","style","getComputedStyle","values","x","Number","left","y","top","width","height","Object","keys","css","_$el","WTopBar","toggleMaximized","dblclick","WmRoot","config"],"mappings":"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;AACF;;;;0BAhFS;AACR,YAAI,CAAC,KAAKI,IAAV,EAAgB;AACd,eAAKA,IAAL,GAAY,sBAAE,KAAK5E,EAAP,CAAZ;AACD;;AAED,eAAO,KAAK4E,IAAZ;AACD;;;;;;;aAxBgB;;;;;;;;aAEK;;;;;aACR;;;;;aACA;;;;;aACI,sBAAE,MAAF,EAAUL,KAAV,KAAoB;;;;;aACnB,sBAAE,MAAF,EAAUC,MAAV,KAAqB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCR7BK,kBAAAA;;;;;;;;;sBAIXC,6CAAkB;AAChB,WAAKjC,SAAL,GAAiB,CAAC,KAAKA,SAAvB;AACD;;sBAED9C,+BAAW;AAAA;;AACT,4BAAE,KAAKC,EAAP,EAAW+E,QAAX,CAAoB,YAAM;AACxB,SAAC,MAAKlC,SAAN,IAAmB,MAAKiC,eAAL,EAAnB;AACD,OAFD;AAGD;;;;;;aAXiB;;;;;;;;;;;;;;;;;;;;MCJPE,iBAAAA;;;;;;;;;;UCAGhD,YAAAA;AAAT,WAASA,SAAT,CAAmBiD,MAAnB,EAA2B,CAEjC;;ACF8D;AAC0B,ACDzF;ADGA,AEHA,EDCE,UAAU,SAAV;AEDF,EHIE,ACFA,ACDA,SAAS,EDCE,CDEC,CCFZ,CCDA,SFGA;AIJF,EFEE,aAAa,OAAb;AFIF,ACFA,AIJA,EHGE,QAAQ,KAAR;AIHF,ENOE,ACFA,ACDA,AGHA,QHGQ,CFGC,AKNA,CJIC,GIJV,CLMA,KCFA,OCDA;AKJF,EPQE,ACFA,ACDA,AIJA,MLKM,EAAN,CKLS,KAAT,ENOgB,EEHE,KFGlB,AEHA;AGFF,AGHA,ERSE,ACFA,ACDA,AIJA,ACDA,OPQO,ACFA,EAAP,CMNU,GPQV,GMPgB,GCDhB,ELKqB,EIJrB,MJIA;EFIA,ACFA,ACDA,AGHA,ACDA,ACDA,ACDA,KPOK,EAAL,CDEQ,CKNC,AEFA,CCDC,ENME,EFGZ,AEHA,AGHA,AEFA,KCDA,KFEwB,IAAxB;ENQA,ACFA,ACDA,AGHA,ACDA,ACDA,ACDA,ODCO,CNMC,CCDC,CFGC,ACFV,COPW,CDCX,CFEa,AGHb,IRSA,AEHA,GGHA,KCDyB,IAAzB;ENQA,ACFA,ACDA,AGHA,ACDA,ACDA,QPQQ,ACFA,EDER,EMPY,CCDC,IFEI,CHGoD,AKLrE,QNMA,KIJA,MCDA,kCJIA;EFIA,ACFA,AIJA,ACDA,ACDA,QFEQ,AEFA,INMI,AKLA,CNOY,AKNxB,CJIA,EMNA,cDCA,ONOA;AEFF,EFGE,ACFA,AIJA,SAAS,ELME,KAAX,AKNA,EJIkB,KAAlB;AKJA,ACDF,EPQE,AEHA,AGHA,OHGO,KAAP,MFGqC,AKNgC,qBLMrE,gCKNA;AJKF,EDEE,AEHA,AGHA,ACDE,ACDF,OFEO,CHGC,CIJG,ACDF,ILKT,AIJE,EDCF,ELMiB,IORjB,EPQA;ECDA,ACDA,AGHA,AEFA,QLKQ,EDCE,GIJG,AEFA,KFEb,CJIA,CMNA,MLKA;AFIF,AMPA,ELKE,ACDA,AGHA,AEFA,ONMO,KAAP,AIJY,GHGG,EKLE,ELKjB,KKLA,iBFEA;ELOA,ACFA,ACDA,AGHA,ACDA,ACDA,OAAO,CNMC,CCDC,CFGC,AMPA,ECDV,CNMA,AIJa,EHGb,GGHA,CLMA,AMPA;ELMA,ACDA,AGHA,ACDA,ACDA,MDCM,ELKE,AIJA,AEFA,ENMR,GCDa,AKLb,GFEA,CHGA,EIJA;ANQF,EEHE,AIJA,ACDA,OLKO,AIJA,CCDC,ILKR,QIJA,MCDA;ANSA,AINF,ELME,AMPA,ACDA,KDCK,KNOK,KORK,GDCf,CNOA,AORA;ALMA,EFGA,AKNA,ACDA,QAAQ,GNOG,CKNC,KLMZ,AKNA,ICDA;ACAF,EPQE,ACDE,ACFA,AIJF,OAAO,ENOE,AEHE,KAAT,CFGF,CCDkB,KAAhB,EKNF;ADEF,ECDE,ACDA,QDCQ,UCD6D,MDCrE,+CCDA;APSF,EKNE,AEFA,OAAO,EFEE,KAAT,CEFA;APSF,AMPE,ECDA,aAAa,6BAAb;AFGA,ELMA,AMPE,SNOO,AMPE,KNOX,AMPE;ACAF,EFEE,aAAa,IAAb;ALOJ,EORI,SAAS,IAAT;EPSF,QAAQ,SAAR;AOPF,EPQE,QAAQ,IAAR;EACA,AORA,OPQO,KAAP,CORa,KAAb;EPSA,KAAK,KAAL;AOPF,EPQE,MAAM,EAAN;EOPA,aAAa,KAAb;APSF;AOPA,EPQE,QAAQ,SAAR;EACA,AORA,QPQQ,AORA,IPQR,CORA;EPSA,AORA,OPQO,KAAP,YORwB,IAAxB;EPSA,AORA,QPQQ,KAAR,YORyB,IAAzB;EPSA,AORA,MPQM,EAAN,CORS,SAAT;EACA,kBAAqE,qDAArE;APSF;AOPE,EPQA,QAAQ,SAAR;EACA,AORE,OPQK,EORI,EPQX,CORE;EPSF,AORE,OPQK,GORK,EPQZ,OORE;EPSF,AORE,KPQG,CORG,CPQR,CORE;EPSF,AORE,OAAO,CPQD,CORN,IPQF;EOPE,KAAK,IAAL;APSJ,EORI,QAAQ,KAAR;EPSF,AORE,QPQM,OORS,EPQjB,EORE;EPSF,AORE,OPQK,IAAP,CORc,8CAAZ;EPSF,AORE,MPQI,KAAN,KORkB,KAAhB;EPSF,KAAK,EAAL;EACA,QAAQ,KAAR;;AAEF;EACE,QAAQ,UAAR;EACA,OAAO,KAAP;EACA,QAAQ,KAAR;EACA,OAAO,IAAP;EACA,QAAQ,IAAR;;AAEF;EACE,QAAQ,UAAR;EACA,OAAO,IAAP;EACA,QAAQ,IAAR;EACA,MAAM,KAAN;EACA,QAAQ,KAAR;;AAEF;EACE,QAAQ,UAAR;EACA,OAAO,IAAP;EACA,QAAQ,IAAR;EACA,MAAM,KAAN;EACA,KAAK,KAAL;;AAEF;EACE,QAAQ,UAAR;EACA,OAAO,IAAP;EACA,QAAQ,IAAR;EACA,OAAO,KAAP;EACA,KAAK,KAAL","file":"app-bundle.js","sourcesContent":["export class App {\n  constructor() {\n    this.message = 'Hello World!';\n  }\n}\n","import { bindable } from 'aurelia-framework';\n\nexport class BrowserFrame {\n  @bindable url;\n\n  urlChanged() {\n    if (!this.iframe) {\n      return;\n    }\n\n    this.iframe.src = this.url;\n  }\n\n  get iframe() {\n    return this.el && this.el.querySelector(\n      '.browser-frame__iframe'\n    );\n  }\n\n  attached() {\n    this.urlChanged();\n  }\n}\n","import { bindable } from 'aurelia-framework';\n\nexport class BrowserNav {\n  @bindable url;\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import { bindable } from 'aurelia-framework';\n\nexport class MApp {\n  @bindable active;\n\n  name = 'Desktop';\n}\n","function leftPad(ch, len, str) {\n  str = str.toString();\n  len -= str.length;\n\n  while (len-- > 0) {\n    str = ch + str;\n  }\n\n  return str;\n}\n\nexport class MClock {\n  constructor() {\n    for (let k of ['update']) {\n      this[k] = this[k].bind(this);\n    }\n  }\n\n  attached() {\n    this.update();\n    this.interval = setInterval(this.update, 100);\n  }\n\n  update() {\n    let now = new Date();\n\n    let hh = leftPad(0, 2, now.getHours());\n    let mm = leftPad(0, 2, now.getMinutes());\n    let ss = leftPad(0, 2, now.getSeconds());\n\n    this.label = `${hh}:${mm}:${ss}`;\n  }\n}\n","export class MTop {\n  attached() {\n    window.mTop = this;\n  }\n\n  dettached() {\n    delete window.mTop;\n  }\n}\n","import environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import $ from 'jquery';\nimport 'jquery-ui';\nimport { bindable } from 'aurelia-framework';\n\nexport class WApp {\n  @bindable name = 'Web Browser';\n  @bindable title;\n  @bindable maximized = false;\n  @bindable x = 70;\n  @bindable y = 60;\n  @bindable width = $('body').width() - 720;\n  @bindable height = $('body').height() - 360;\n  @bindable dragging;\n  @bindable resizing;\n\n  url = 'https://suckless.org';\n\n  constructor() {\n    for (let k of ['onFrame']) {\n      this[k] = this[k].bind(this);\n    }\n  }\n\n  get $el() {\n    if (!this._$el) {\n      this._$el = $(this.el);\n    }\n\n    return this._$el;\n  }\n\n  maximizedChanged() {\n    let method = this.maximized ? 'disable' : 'enable';\n\n    this.$el\n      .resizable(method)\n      .draggable(method);\n  }\n\n  attached() {\n    this.title = this.title || this.url.replace(\n      /^https?:\\/\\/|\\/.+$/g, ''\n    );\n\n    this.$el\n      .resizable({\n        containment: 'wm-root',\n        handles: 'all',\n      })\n      .draggable({\n        handle: '.w-top-bar',\n      });\n\n    this.maximizedChanged();\n    this.onFrame();\n\n    window.mTop.activeApp = this;\n  }\n\n  dettached() {\n    this.isDettached = true;\n  }\n\n  onFrame() {\n    if (this.isDettached) {\n      return;\n    }\n\n    requestAnimationFrame(this.onFrame);\n\n    let draggingSel = '.ui-draggable-dragging';\n    let resizingSel = '.ui-resizable-resizing';\n\n    this.dragging = this.$el.is(draggingSel);\n    this.resizing = this.$el.is(resizingSel);\n\n    if (!this.maximized) {\n      if (this.dragging || this.resizing) {\n        let style = getComputedStyle(this.el);\n\n        let values = {\n          x: Number(style.left),\n          y: Number(style.top),\n          width: Number(style.width),\n          height: Number(style.height),\n        };\n\n        for (let k of Object.keys(values)) {\n          if (this[k] === values[k]) {\n            return;\n          }\n\n          this[k] = values[k];\n        }\n      }\n      else {\n        this.$el\n          .css('left', `${this.x}px`)\n          .css('top', `${this.y}px`)\n          .css('width', `${this.width}px`)\n          .css('height', `${this.height}px`);\n      }\n    }\n  }\n}\n","import $ from 'jquery';\nimport { bindable } from 'aurelia-framework';\n\nexport class WTopBar {\n  @bindable looks = 'default';\n  @bindable maximized;\n\n  toggleMaximized() {\n    this.maximized = !this.maximized;\n  }\n\n  attached() {\n    $(this.el).dblclick(() => {\n      !this.maximized && this.toggleMaximized();\n    });\n  }\n}\n","export class WmRoot {\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n",null,null,null,null,null,null,null,null,null],"sourceRoot":".."}